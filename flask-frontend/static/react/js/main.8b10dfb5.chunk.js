(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{85:function(t,e,n){},86:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),a=n(9),l=n.n(a),c=n(13),s=n.n(c),r=n(17),p=n(29),u=n(30),j=n(35),h=n(33),b=n(34),O=n(65),d=n(121),x=n(119),C=n(2),f=function(t){var e=t.children,n=Object(x.a)("(prefers-color-scheme: dark)"),o=Object(O.a)({palette:{type:n?"dark":"light"}});return Object(C.jsx)(d.a,{theme:o,children:e})},m=n(31),v=n(124),T=n(129),g=n(125),A=n(122),y=function(t){var e=t.pollId,n=t.pollInfo,i=t.onVote,a=Object(o.useState)({optionA:!1,optionB:!1,optionC:!1,optionD:!1,optionE:!1}),l=Object(b.a)(a,2),c=l[0],p=l[1],u=Object(A.a)({Form:{display:"flex",flexDirection:"column",height:"calc(100% - 32px)"},Grow:{flexGrow:1},Button:{justifySelf:"flex-end"}})(),j=function(t){p(Object(m.a)({},t.target.name,[t.target.checked]))},h=function(){var t=Object(r.a)(s.a.mark((function t(n){var o,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!=(o=c.optionA?"A":c.optionB?"B":c.optionC?"C":c.optionD?"D":c.optionE?"E":(console.warn("No option selected"),""))){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,fetch("/Api/467586970086574653/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pollId:e,option:o})});case 6:return a=t.sent,t.next=9,a.json();case 9:t.sent,i();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("form",{onSubmit:h,className:"PollForm "+u.Form,children:[null==n.optionACount||"None"==n.optionATitle?Object(C.jsx)("div",{}):Object(C.jsx)(v.a,{control:Object(C.jsx)(T.a,{name:"optionA",onChange:j,checked:c.optionA}),label:n.optionATitle}),null==n.optionBCount||"None"==n.optionBTitle?Object(C.jsx)("div",{}):Object(C.jsx)(v.a,{control:Object(C.jsx)(T.a,{name:"optionB",onChange:j,checked:c.optionB}),label:n.optionBTitle}),null==n.optionCCount||"None"==n.optionCTitle?Object(C.jsx)("div",{}):Object(C.jsx)(v.a,{control:Object(C.jsx)(T.a,{name:"optionC",onChange:j,checked:c.optionC}),label:n.optionCTitle}),null==n.optionDCount||"None"==n.optionDTitle?Object(C.jsx)("div",{}):Object(C.jsx)(v.a,{control:Object(C.jsx)(T.a,{name:"optionD",onChange:j,checked:c.optionD}),label:n.optionDTitle}),null==n.optionECount||"None"==n.optionETitle?Object(C.jsx)("div",{}):Object(C.jsx)(v.a,{control:Object(C.jsx)(T.a,{name:"optionE",onChange:j,checked:c.optionE}),label:n.optionETitle}),Object(C.jsx)("div",{className:u.Grow}),Object(C.jsx)(g.a,{className:u.Button,variant:"contained",type:"submit",children:"Vote"})]})},N=n(90),D=function(t){var e=t.value,n=t.max,o=t.label;return Object(C.jsxs)("div",{className:"PollResult",children:[Object(C.jsxs)(N.a,{children:[o," - ",e/n*100,"%"]}),Object(C.jsx)("div",{className:"Progress",style:{width:"".concat(e/n*100,"%")}})]})},B=n(11),k=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var o;return Object(p.a)(this,n),(o=e.call(this,t)).defaultState={optionACount:0,optionBCount:0,optionCCount:0,optionDCount:0,optionECount:0,optionATitle:"",optionBTitle:"",optionCTitle:"",optionDTitle:"",optionETitle:"",All:0},o.state=o.defaultState,o}return Object(u.a)(n,[{key:"setAll",value:function(t){var e=0;e+=null!=t.optionACount||"None"==t.optionATitle?t.optionACount:0,e+=null!=t.optionBCount||"None"==t.optionBTitle?t.optionBCount:0,e+=null!=t.optionCCount||"None"==t.optionCTitle?t.optionCCount:0,e+=null!=t.optionDCount||"None"==t.optionDTitle?t.optionDCount:0,e+=null!=t.optionECount||"None"==t.optionETitle?t.optionECount:0,this.setState({optionACount:t.optionACount,optionBCount:t.optionBCount,optionCCount:t.optionCCount,optionDCount:t.optionDCount,optionECount:t.optionECount,optionATitle:t.optionATitle,optionBTitle:t.optionBTitle,optionCTitle:t.optionCTitle,optionDTitle:t.optionDTitle,optionETitle:t.optionETitle,All:e})}},{key:"componentDidMount",value:function(){var t=Object(r.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/Api/467586970086574653/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pollId:this.props.match.params.pollId})});case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,this.setAll(n.Response);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"PollResults",children:[null!=this.state.optionACount||"None"==this.state.optionATitle?Object(C.jsx)(D,{value:this.state.optionACount,max:this.state.All,label:this.state.optionATitle}):Object(C.jsx)(C.Fragment,{}),null!=this.state.optionBCount||"None"==this.state.optionBTitle?Object(C.jsx)(D,{value:this.state.optionBCount,max:this.state.All,label:this.state.optionBTitle}):Object(C.jsx)(C.Fragment,{}),null!=this.state.optionCCount||"None"==this.state.optionCTitle?Object(C.jsx)(D,{value:this.state.optionCCount,max:this.state.All,label:this.state.optionCTitle}):Object(C.jsx)(C.Fragment,{}),null!=this.state.optionDCount||"None"==this.state.optionDTitle?Object(C.jsx)(D,{value:this.state.optionDCount,max:this.state.All,label:this.state.optionDTitle}):Object(C.jsx)(C.Fragment,{}),null!=this.state.optionECount||"None"==this.state.optionETitle?Object(C.jsx)(D,{value:this.state.optionECount,max:this.state.All,label:this.state.optionETitle}):Object(C.jsx)(C.Fragment,{})]})}}]),n}(i.a.Component),E=Object(B.f)(k),w=n(126),S=n(127),I=function(t){var e=t.pollId,n=t.pollInfo,i=Object(o.useState)(null),a=Object(b.a)(i,2),l=a[0],c=a[1],p=Object(A.a)({Card:{height:"450px",width:"375px"},CardContent:{boxSizing:"border-box",height:"calc(100% - 16px)"}})(),u=function(){var t=Object(r.a)(s.a.mark((function t(){var n,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/Api/467586970086574653/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pollId:e})});case 2:return n=t.sent,t.next=5,n.json();case 5:o=t.sent,c(o.Response.voted);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)(f,{onLoad:u(),children:Object(C.jsx)(w.a,{className:p.Card,children:Object(C.jsxs)(S.a,{className:p.CardContent,children:[Object(C.jsx)("div",{clasName:"PollTitle",children:Object(C.jsx)(N.a,{variant:"h3",children:n.title})}),l?Object(C.jsx)(E,{}):Object(C.jsx)(y,{pollId:e,pollInfo:n,onVote:function(){return c(!l)}})]})})})},F=(n(85),function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var o;return Object(p.a)(this,n),(o=e.call(this,t)).state={pollInfo:{}},o}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/Api/467586970086574653/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pollId:this.props.match.params.pollId})});case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,this.setState({pollInfo:n.Response});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsx)(I,{pollId:this.props.match.params.pollId,pollInfo:this.state.pollInfo})}}]),n}(i.a.Component)),P=Object(B.f)(F),L=(n(86),n(56)),J=n(128),G=function(){var t={Title:"",OptionA:"",OptionB:"",OptionC:"",OptionD:"",OptionE:""},e=Object(o.useState)(t),n=Object(b.a)(e,2),i=n[0],a=n[1],l=Object(A.a)({Card:{height:"450px",width:"375px"},CardContent:{boxSizing:"border-box",height:"calc(100% - 16px)"},Form:{display:"flex",flexDirection:"column",height:"calc(100% + 24px)"},Grow:{flexGrow:1},Button:{justifySelf:"flex-end"}})(),c=function(t){a((function(e){return Object(L.a)(Object(L.a)({},e),{},Object(m.a)({},t.target.name,t.target.value))}))},p=function(){var e=Object(r.a)(s.a.mark((function e(n){var o,l,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in n.preventDefault(),o={},i)"Title"==l?o.title=i[l]:"OptionA"==l?o.optionATitle=i[l].length?i[l]:null:"OptionB"==l?o.optionBTitle=i[l].length?i[l]:null:"OptionC"==l?o.optionCTitle=i[l].length?i[l]:null:"OptionD"==l?o.optionDTitle=i[l].length?i[l]:null:"OptionE"==l&&(o.optionETitle=i[l].length?i[l]:null);return e.next=5,fetch("/Api/467586970086574653/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:return c=e.sent,e.next=8,c.json();case 8:r=e.sent,window.location.replace("/poll/".concat(r.Response.pollId)),a(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(f,{children:Object(C.jsx)(w.a,{className:l.Card,children:Object(C.jsx)(S.a,{className:l.CardContent,children:Object(C.jsxs)("form",{onSubmit:p,className:l.Form,children:[Object(C.jsx)(J.a,{name:"Title",placeholder:"Title",label:"Poll title",value:i.Title,onChange:c}),Object(C.jsx)(J.a,{name:"OptionA",placeholder:"Option 1",label:"Leave blank to exclude",value:i.OptionA,onChange:c}),Object(C.jsx)(J.a,{name:"OptionB",placeholder:"Option 2",label:"Leave blank to exclude",value:i.OptionB,onChange:c}),Object(C.jsx)(J.a,{name:"OptionC",placeholder:"Option 3",label:"Leave blank to exclude",value:i.OptionC,onChange:c}),Object(C.jsx)(J.a,{name:"OptionD",placeholder:"Option 4",label:"Leave blank to exclude",value:i.OptionD,onChange:c}),Object(C.jsx)(J.a,{name:"OptionE",placeholder:"Option 5",label:"Leave blank to exclude",value:i.OptionE,onChange:c}),Object(C.jsx)("div",{className:l.Grow}),Object(C.jsx)(g.a,{type:"submit",variant:"contained",className:l.Button,children:"Create Poll"})]})})})})},R=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(p.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Started...");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(C.jsx)(G,{})}}]),n}(i.a.Component),M=Object(B.f)(R),V=n(39);var z=function(){return Object(C.jsx)(V.a,{children:Object(C.jsx)("div",{className:"App",style:{display:"flex",justifyContent:"center",paddingTop:"50px"},children:Object(C.jsxs)(B.c,{children:[Object(C.jsx)(B.a,{exact:!0,path:"/",children:Object(C.jsx)("p",{children:"Hello There"})}),Object(C.jsx)(B.a,{exact:!0,path:"/poll/:pollId",children:Object(C.jsx)(P,{})}),Object(C.jsx)(B.a,{exact:!0,path:"/create-poll",children:Object(C.jsx)(M,{})})]})})})},H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,l=e.getTTFB;n(t),o(t),i(t),a(t),l(t)}))};l.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(z,{})}),document.getElementById("root")),H()}},[[88,1,2]]]);
//# sourceMappingURL=main.8b10dfb5.chunk.js.map